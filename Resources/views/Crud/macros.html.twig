{% macro sort_field(label, field, sort, update, route, indicator) %}
    {% if sort.field is defined and sort.field == field %}
        <a href="#" onclick="{{ jq_remote_function({
            'update':   update, 
            'url':      path(route, {'field':field, 'order':sort.next}),
            'method':   'GET',
            'complete': "jQuery('#%s').hide();"|format(indicator),
            'loading':  "jQuery('#%s').show();"|format(indicator),
        }) }}">
            {{ label }}<i class="{% if sort.order == 'ASC'%}icon-chevron-down{% else %}icon-chevron-up{% endif %}"></i>
        </a>               
    {% else %}
        <a href="#" onclick="{{ jq_remote_function({
            'update':   update, 
            'url':      path(route, {'field':field, 'order':'ASC'}),
            'method':   'GET',
            'complete': "jQuery('#%s').hide();"|format(indicator),
            'loading':  "jQuery('#%s').show();"|format(indicator),
        }) }}">{{ label }}</a>
    {% endif %} 
{% endmacro %}